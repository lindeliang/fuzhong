(function(e){function t(t){for(var n,o,s=t[0],c=t[1],u=t[2],l=0,d=[];l<s.length;l++)o=s[l],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&d.push(i[o][0]),i[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);f&&f(t);while(d.length)d.shift()();return r.push.apply(r,u||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],n=!0,o=1;o<a.length;o++){var s=a[o];0!==i[s]&&(n=!1)}n&&(r.splice(t--,1),e=c(c.s=a[0]))}return e}var n={},o={app:0},i={app:0},r=[];function s(e){return c.p+"js/"+({Catalog:"Catalog"}[e]||e)+"."+{Catalog:"f8b7209f"}[e]+".js"}function c(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.e=function(e){var t=[],a={Catalog:1};o[e]?t.push(o[e]):0!==o[e]&&a[e]&&t.push(o[e]=new Promise((function(t,a){for(var n="css/"+({Catalog:"Catalog"}[e]||e)+"."+{Catalog:"75322249"}[e]+".css",i=c.p+n,r=document.getElementsByTagName("link"),s=0;s<r.length;s++){var u=r[s],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===n||l===i))return t()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){u=d[s],l=u.getAttribute("data-href");if(l===n||l===i)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var n=t&&t.target&&t.target.src||i,r=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=n,delete o[e],f.parentNode.removeChild(f),a(r)},f.href=i;var p=document.getElementsByTagName("head")[0];p.appendChild(f)})).then((function(){o[e]=0})));var n=i[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,a){n=i[e]=[t,a]}));t.push(n[2]=r);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=s(e);var d=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(f);var a=i[e];if(0!==a){if(a){var n=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+n+": "+o+")",d.name="ChunkLoadError",d.type=n,d.request=o,a[1](d)}i[e]=void 0}};var f=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},c.m=e,c.c=n,c.d=function(e,t,a){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(a,n,function(t){return e[t]}.bind(null,n));return a},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var f=l;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},2290:function(e,t,a){"use strict";a("d3b7");var n=a("5c96");function o(e){function t(t){return new Promise((function(a,o){function i(e){e&&a(e)}function r(e){e&&(t.emitError&&e&&e.msg&&n["Message"].error(e.msg),o(e))}var s=t.success;t.success=function(e){s&&s(e),i(e)};var c=t.error;t.error=function(e){c&&c(e),r(e)},e(t)}))}return t}t["a"]=o},"26b9":function(e,t,a){e.exports=a("7700")(9)},2716:function(e,t,a){},"28dd":function(e,t,a){e.exports=a("7700")(7)},3718:function(e,t,a){"use strict";var n=a("98d3"),o=a.n(n);o.a},"3def":function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));a("4de4"),a("96cf");var n=a("1da1"),o=a("d4ec"),i=a("bee2"),r=(a("d3b7"),function(e){return new Promise((function(t,a){lib.api.get({api:"ec/a/operation/resource/block/authorized/list/nologin",data:e,success:function(e){t(e.data.data)},error:function(e){a(e&&e.msg)},complete:function(e){}})}))}),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new Promise((function(a,n){lib.api.get({api:"ec/a/govern/resources/directory/list",data:{catalog_config:JSON.stringify(e),tag:t},success:function(e){a(e.data)},error:function(e){n(e&&e.msg)},complete:function(e){}})}))},c=function(e){return new Promise((function(t,a){lib.api.get({api:"ec/a/govern/resources/content/list",data:{tag:e},success:function(e){t(e.data)},error:function(e){a(e&&e.msg)},complete:function(e){}})}))},u=function(e){return new Promise((function(t,a){lib.api.get({api:"ec/a/govern/resources/content/get",data:{content_id:e},success:function(e){t(e.data)},error:function(e){a(e&&e.msg)},complete:function(e){}})}))},l=function(){function e(){Object(o["a"])(this,e),this.ids=[],this.banners=[],this.resources=[],this.catalogs=[]}return Object(i["a"])(e,[{key:"getResourcePlaceByPlatform",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,a,n,o,i,s,c,u,l=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:{},a=[],n=[],o=[],i=null,e.prev=5,e.next=8,r(t);case 8:i=e.sent,e.next=14;break;case 11:throw e.prev=11,e.t0=e["catch"](5),new Error(e.t0.msg);case 14:return s=i.filter((function(e){return 1===e.resource_block_type}))[0]||{},s.data&&(a=JSON.parse(s.data).list||[]),c=i.filter((function(e){return 13===e.resource_block_type}))[0]||{},c.data&&(n=JSON.parse(c.data)||[]),u=i.filter((function(e){return 22===e.resource_block_type}))[0]||{},u.data&&(o=JSON.parse(u.data)||[]),this.banners=a,this.catalogs=o,this.resources=n,e.abrupt("return",{resources:n,banners:a,catalogs:o});case 24:case"end":return e.stop()}}),e,this,[[5,11]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"getListByCatalogConfig",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,a,n=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},a=n.length>1&&void 0!==n[1]?n[1]:1,e.next=4,s(t,a);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getAllContents",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getContentById",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}()},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("a026"),o=(a("f5df1"),a("28dd")),i=a("26b9"),r=a.n(i),s=a("94b4"),c=a.n(s),u=a("5c96"),l=(a("0fae"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)}),d=[],f=a("0c7c"),p={},g=Object(f["a"])(p,l,d,!1,null,null,null),m=g.exports,h=(a("d3b7"),a("ac1f"),a("5319"),a("8c4f")),v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home",class:{empty:e.isEmpty}},[a("video-mask",{ref:"mask"}),a("div",{staticClass:"banner"},[a("el-carousel",{attrs:{height:"341px",interval:2e4,arrow:"never","indicator-position":"none"}},e._l(e.banners,(function(t,n){return a("el-carousel-item",{key:n,style:{background:"url("+t.img_url+")",backgroundSize:"auto 341px",backgroundPositionX:"center"},nativeOn:{click:function(a){return e.openNewWindow(t)}}})})),1)],1),a("div",{staticClass:"content"},[a("main",[a("div",{staticClass:"show-board"},[a("div",{staticClass:"left"},[a("div",{staticClass:"box"},e._l(e.resources,(function(t,n){return a("div",{key:n,staticClass:"item",on:{click:function(a){return e.openNewWindow(t)}}},[a("img",{attrs:{src:t.img_url,alt:""}}),a("div",{staticClass:"text"},[e._v(e._s(t.title))])])})),0)]),e.catalogs_default["rules"].title?a("div",{staticClass:"right"},[a("div",{staticClass:"content"},[a("div",{staticClass:"title-box"},[a("div",{staticClass:"title"},[e._v(e._s(e.catalogs_default["rules"].title))]),e.catalogs_default["rules"].has_more?a("div",{staticClass:"more",on:{click:function(t){return e.toCatalog(e.catalogs_default["rules"].id)}}},[e._v(" 更多"),a("i",{staticClass:"el-icon-arrow-right"})]):e._e()]),e._l(e.catalogs_default["rules"].list,(function(t,n){return a("div",{key:n,staticClass:"line",on:{click:function(a){return e.toArticle(t,e.catalogs_default["rules"].id)}}},[a("div",{staticClass:"text-line"},[a("div",{staticClass:"text"},[e._v(e._s(t.main_title))]),t.hot_flag?a("span",[e._v("HOT")]):e._e()]),a("div",{staticClass:"time"},[e._v(e._s(e._f("timestamp")(t.gmt_modified)))])])}))],2)]):e._e()]),e.catalogs_default["videos"].title?a("div",{staticClass:"rule video-type"},[a("div",{staticClass:"title-box"},[a("div",{staticClass:"title"},[e._v(e._s(e.catalogs_default["videos"].title))]),e.catalogs_default["videos"].has_more?a("div",{staticClass:"more",on:{click:function(t){return e.toCatalog(e.catalogs_default["videos"].id)}}},[e._v(" 更多"),a("i",{staticClass:"el-icon-arrow-right"})]):e._e()]),a("div",{staticClass:"videos"},e._l(e.catalogs_default["videos"].list,(function(t,n){return a("div",{key:n,staticClass:"video",style:{background:"url("+t.cover_img+")",backgroundSize:"100% 100%"},on:{click:function(a){return e.$refs.mask.openVideo(t)}}},[a("img",{attrs:{src:"https://mktv-in-cdn.mockuai.com/16033585197777735.png",alt:""}})])})),0)]):e._e(),e.catalogs_default["articles"].title?a("div",{staticClass:"rule article-type"},[a("div",{staticClass:"title-box"},[a("div",{staticClass:"title"},[e._v(e._s(e.catalogs_default["articles"].title))]),e.catalogs_default["articles"].has_more?a("div",{staticClass:"more",on:{click:function(t){return e.toCatalog(e.catalogs_default["articles"].id)}}},[e._v(" 更多"),a("i",{staticClass:"el-icon-arrow-right"})]):e._e()]),a("div",{staticClass:"articles"},e._l(e.catalogs_default["articles"].list,(function(t,n){return a("div",{key:n,staticClass:"article",class:{"no-bottom":e.catalogs_default["articles"].list.length<2},on:{click:function(a){return e.toArticle(t,e.catalogs_default["articles"].id)}}},[a("div",{staticClass:"article_pic",style:{background:"url("+t.cover_img+")",backgroundSize:"100% 100%"}}),a("div",{staticClass:"article_content"},[a("div",{staticClass:"article_title"},[e._v(e._s(t.main_title))]),a("div",{staticClass:"article_text"},[e._v(" "+e._s(t.sub_title)+" ")])])])})),0)]):e._e()])])],1)},_=[],b=(a("99af"),a("c975"),a("d81d"),a("b64b"),a("1276"),a("5530")),k=(a("96cf"),a("1da1")),y=a("3def"),w=a("84e2"),x={video:4,rule:6,article:4},C={data:function(){return{catalogs_default:{rules:{limit:x.rule,list:[]},videos:{limit:x.video,list:[]},articles:{limit:x.article,list:[]}},catalogs:[],banners:[],resources:[],isEmpty:!1}},components:{VideoMask:w["a"]},created:function(){var e=this;return Object(k["a"])(regeneratorRuntime.mark((function t(){var a,n,o,i,r,s,c,u,l,d,f,p;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(Object.keys(e.$route.query).length){t.next=4;break}return setTimeout((function(){location.href="https://www.mockuai.com"}),3e3),e.isEmpty=!0,t.abrupt("return");case 4:return a=e.$route.query,n=a.page_id,o=a.app_type,i=a.channel_id,r=a.tag,s=new y["a"],t.next=8,s.getResourcePlaceByPlatform({page_id:n,app_type:o,channel_id:i,tag:r});case 8:return c=t.sent,u=c.resources,l=c.catalogs,d=c.banners,e.resources=u,e.banners=d,l.map((function(t){0===t.type?e.catalogs_default.rules=Object(b["a"])(Object(b["a"])({},e.catalogs_default.rules),t):1===t.type?e.catalogs_default.videos=Object(b["a"])(Object(b["a"])({},e.catalogs_default.videos),t):2===t.type?e.catalogs_default.articles=Object(b["a"])(Object(b["a"])({},e.catalogs_default.articles),t):e.catalogs.push(t)})),f={},e.catalogs_default.rules.id&&(f[e.catalogs_default.rules.id]=x.rule),e.catalogs_default.videos.id&&(f[e.catalogs_default.videos.id]=x.video),e.catalogs_default.articles.id&&(f[e.catalogs_default.articles.id]=x.article),t.next=21,s.getListByCatalogConfig(f,r);case 21:p=t.sent,p.map((function(t){e.catalogs_default.rules.id===t.catalog_id&&(e.catalogs_default.rules.list=t.content_list),e.catalogs_default.videos.id===t.catalog_id&&(e.catalogs_default.videos.list=t.content_list),e.catalogs_default.articles.id===t.catalog_id&&(e.catalogs_default.articles.list=t.content_list)}));case 23:case"end":return t.stop()}}),t)})))()},filters:{timestamp:function(e){return e?e.split(" ")[0]:""}},methods:{openNewWindow:function(e){var t=this;if(e.link_url){var a=this.$router.resolve(e.link_url),n=a.route,o=!!e.link_url.indexOf("?")>-1,i=o?"&":"?",r=Object(b["a"])(Object(b["a"])({},this.$route.query),n.query);e.link_url.indexOf("catalog_id")>-1&&r.catalog_id&&delete r.catalog_id,Object.keys(r).map((function(e,a){i+="".concat(e,"=").concat(t.$route.query[e],"&")})),i=i.substring(0,i.length-1),window.open("".concat(e.link_url).concat(i))}},toCatalog:function(e){var t=Object(b["a"])(Object(b["a"])({},this.$route.query),{},{catalog_id:e});this.$router.push({path:"/catalogs",query:t})},toArticle:function(e,t){this.$router.push({path:"/catalogs/article/".concat(e.id),query:Object(b["a"])(Object(b["a"])({},this.$route.query),{},{catalog_id:t})})}}},P=C,O=(a("de16"),a("c347"),Object(f["a"])(P,v,_,!1,null,"3a5034d3",null)),S=O.exports;n["default"].use(h["default"]);var j=[{path:"/",name:"Home",component:S},{path:"/catalogs",name:"catalogs",component:function(){return a.e("Catalog").then(a.bind(null,"247d"))}},{path:"/catalogs/article/:id",name:"article",component:function(){return a.e("Catalog").then(a.bind(null,"247d"))}}],T=h["default"].prototype.replace;h["default"].prototype.replace=function(e,t,a){return t||a?T.call(this,e,t,a):T.call(this,e).catch((function(e){return e}))};var R=new h["default"]({mode:"history",routes:j}),L=R;a("806d"),a("c5d8"),a("6f65");n["default"].use(u["Menu"]),n["default"].use(u["MenuItem"]),n["default"].use(u["Submenu"]),n["default"].use(u["Pagination"]),n["default"].use(u["MenuItemGroup"]),n["default"].use(u["Carousel"]),n["default"].use(u["CarouselItem"]),n["default"].use(u["Breadcrumb"]),n["default"].use(u["BreadcrumbItem"]),n["default"].use(o["default"]),n["default"].use(r.a),n["default"].use(c.a,{latencyThreshold:50,responseLatency:50}),n["default"].config.productionTip=!1,new n["default"]({router:L,render:function(e){return e(m)}}).$mount("#app")},"6f65":function(e,t,a){a("99af"),a("c975"),a("a9e3"),a("4d63"),a("ac1f"),a("25f0"),a("466d"),a("5319"),a("1276"),a("99af"),a("c975"),a("a9e3"),a("4d63"),a("ac1f"),a("25f0"),a("466d"),a("5319"),a("1276");var n=a("7037");(function(e,t){var a,o={prefix:"",setPrefix:function(e){this.prefix=e},_key:function(e){return this.prefix+e},get:function(e){return this.getItem(this._key(e))},set:function(e,t,a,n,o,i){var r=this;if(a=a||604800,n=n||"/",!o){var s=location.hostname;if(!s.match(/\d+\.\d+\.\d+\.\d+/)){var c=/.+\.([^\.]+\.[^\.]+)$/,u=s.match(c);u&&u[0]&&(o=u[0])}}return this.setItem(r._key(e),t,a,n,o,i)},rm:function(e,t,a){var n=this;if(t=t||"/",a)this.removeItem(n._key(e),t,a);else{var o=location.hostname;if(!o.match(/\d+\.\d+\.\d+\.\d+/)){var i=/.+\.([^\.]+\.[^\.]+)$/,r=o.match(i);r&&r[1]&&(this.removeItem(n._key(e),t),this.removeItem(n._key(e),t,r[0]),this.removeItem(n._key(e),t,r[1]))}}},getItem:function(e){if(!e)return null;for(var t="".concat(e,"="),a=document.cookie.split(";"),n=0;n<a.length;n++){var o=a[n],i="";while(" "==o.charAt(0))o=o.substring(1,o.length);if(0==o.indexOf(t)&&(i=o.substring(t.length,o.length)),i)return i}return null},setItem:function(e,t,a,n,o,i){if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;var r="";if(a)switch(a.constructor){case Number:r=a===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age=".concat(a);break;case String:r="; expires=".concat(a);break;case Date:r="; expires=".concat(a.toUTCString());break}return document.cookie="".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t)).concat(r).concat(o?"; domain=".concat(o):"").concat(n?"; path=".concat(n):"").concat(i?"; secure":""),!0},removeItem:function(e,t,a){return!!this.hasItem(e)&&(document.cookie="".concat(encodeURIComponent(e),"=; expires=Thu, 01 Jan 1970 00:00:00 GMT").concat(a?"; domain=".concat(a):"").concat(t?"; path=".concat(t):""),!0)},hasItem:function(e){return!!e&&new RegExp("(?:^|;\\s*)".concat(encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&"),"\\s*\\=")).test(document.cookie)},keys:function(){for(var e=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),t=e.length,a=0;a<t;a++)e[a]=decodeURIComponent(e[a]);return e}},i=function(){var e={isLocalStorageOk:!1,prefix:"",data:{},init:function(){return this.checkLocalStorage(),this.setMethod(),this},checkLocalStorage:function(){if("localStorage"in window&&null!==window.localStorage)try{window.localStorage.setItem("test","test"),window.localStorage.removeItem("test"),this.isLocalStorageOk=!0}catch(e){console.log()}},setPrefix:function(e){this.prefix=e},setMethod:function(e){e=e||"",a=this.isLocalStorageOk?"cookie"==e?o:window.localStorage:o},set:function(e,t){this.data[e]=t,"object"===n(t)&&(t=JSON.stringify(t)),a.setItem(this.prefix+e,t)},get:function(e){var t=this.data[e];if("undefined"===typeof t){t=a.getItem(this.prefix+e);try{t=JSON.parse(t)}catch(n){}}return t},rm:function(e){e&&(e=this.prefix+e,delete this.data[e],a.removeItem(e))}};return e.init()}();t.storage=i,t.cookie=o})(window,window.lib||(window.lib={}))},7700:function(e,t){e.exports=vendor_e10abade0b88abd47005},"806d":function(e,t,a){"use strict";(function(e){a("99af"),a("caad"),a("c975"),a("fb6a"),a("ac1f"),a("2532"),a("5319");var t=a("6821"),n=a.n(t),o=a("a026"),i=a("2290"),r=a("ace7"),s=a.n(r);(function(t,a){var r="online",c=s.a[r],u=c.APP_KEY,l=c.APP_PWD,d=c.API_URL,f=c.H5_URL,p={exceptionCodeList:[50001,50002,50003,50004,50005,50006],maxCount:10,intervalTime:2e3};function g(e){var t,a={},n=[];for(t in e)e.hasOwnProperty(t)&&n.push(t);for(n.sort(),t=0;t<n.length;t++)a[n[t]]=e[n[t]];return a}function m(e){var t=a.api.appPwd;e=g(e);var o=t;for(var i in e)o+="".concat(i,"=").concat(e[i],"&");o=o.slice(0,-1),o+=t;var r=n()(o);return r}function h(e){var t=a.api.appPwd;e=g(e);var o=t;for(var i in e)"file"!=i&&(o+="".concat(i,"=").concat(e[i],"&"));o=o.slice(0,-1),o+=t;var r=n()(o);return r}function v(t){var n={format:"json",app_key:a.api.appKey,timestamp:Math.floor(Date.now()/1e3)};e.getJSON("".concat(a.api.apiUrl,"wdzg/auth/session_token/get?format=json&app_key=").concat(n.app_key,"&timestamp=").concat(n.timestamp,"&api_sign=").concat(m(n)),(function(e){a.api.session_token=e.data.session_token,a.storage.set("session_token",a.api.session_token),t&&t()}))}function _(e,t){var n=(new Date).getTime();if(p.exceptionCodeList.includes(t.code)){var o=a.api.exceptionStartTime,i=a.api.currentExceptionCount;if(o||(o=n),i++,console.log("".concat(n-o," 毫秒内异常数量 ").concat(i)),n-o<p.intervalTime&&i>=p.maxCount)return a.api.isWaiting=!0,void(a.login&&a.login.goLogin());n-o>p.intervalTime&&(o=n,i=0),a.api.exceptionStartTime=o,a.api.currentExceptionCount=i}switch(t.code){case 1e4:e.success&&e.success(t);break;case 50001:case 50002:if(a.api.needSessionToken)return void a.api.requestQueue.push(e.fn);a.api.needSessionToken=!0,v((function(){e.fn.call(),a.api.needSessionToken=!1,a.api.callRequestQueue()}));break;case 50003:case 50004:case 50005:case 50006:case 50007:a.api.needSessionToken=!1,a.api.requestQueue=[],a.login.goLogin();break;default:e.error&&e.error(t)}}function b(t,n,i){if(!a.api.isWaiting&&!w(t,n)){var r=-1===t.api.indexOf("http")?a.api.apiUrl:"",s=e.extend(!0,{},t.data),c=a.storage.get("access_token");for(var u in s.format="json",s.app_key=a.api.appKey,s.timestamp="1523687615",s.session_token=a.storage.get("session_token"),c&&(s.access_token=c),s)void 0!==s[u]&&null!==s[u]&&""!==s[u]||delete s[u];if("POST"==n)for(var u in s)try{s[u]=s[u].replace(/\r\n/g,"\n").replace(/\n/g,"\r\n")}catch(f){}if(s.api_sign=m(s),"GET"==n)k(r,n,t.api,s),o["default"].http.get("".concat(r).concat(t.api),{params:s,responseType:"json",emulateJSON:!0}).then((function(e){_(t,e.body)}),(function(e){t.error&&t.error(null,e.status,e.statusText)})).then((function(e){t.complete&&t.complete(e)}));else if("POST"==n){k(r,n,t.api,s);var l=new FormData;for(var d in s)l.append(d,s[d]);o["default"].http.post("".concat(r).concat(t.api),l,{responseType:"json"}).then((function(e){_(t,e.body)}),(function(e){t.error&&t.error(e,e.status,e.statusText)})).then((function(e){t.complete&&t.complete(e)}))}}}function k(e,t,n,i){if("POST"===t||a.api.addOperationLogGetRequestList.includes(n)){var r={format:i.format,app_key:i.app_key,timestamp:i.timestamp,session_token:i.session_token,access_token:i.access_token},s=new FormData;for(var c in r.operation_content=n,r.api_sign=m(r),r)s.append(c,r[c]);o["default"].http.post("".concat(e)+"ec/m/user/admin/operation/add",s,{responseType:"json"})}}function y(t,n){var o=-1===t.api.indexOf("http")?a.api.apiUrl:"",i=e.extend(!0,{},t.data),r=a.storage.get("access_token");i.format="json",i.app_key=a.api.appKey,i.timestamp=Math.floor(Date.now()/1e3),i.session_token=a.storage.get("session_token"),r&&(i.access_token=r),i.api_sign=h(i);var s=new FormData;for(var c in i)s.append(c,i[c]);"function"===typeof t.progress?e.ajax({url:o+t.api,type:"POST",data:s,dataType:"json",processData:!1,contentType:!1,cache:!1,xhr:function(){var a=e.ajaxSettings.xhr();if(t.progress&&a.upload)return a.upload.addEventListener("progress",t.progress,!1),a},success:function(e){_(t,e)}}).done((function(e){console.log(e)})):e.ajax({url:o+t.api,type:"POST",data:s,dataType:"json",processData:!1,contentType:!1,cache:!1,success:function(e){_(t,e)},error:function(e,a,n){t.error&&t.error(e,a,n)},complete:function(e,a){t.complete&&t.complete(e,a)}})}function w(t,a){if(t.mock){var n=t.mock;return e.getJSON(n.path,(function(e){n.error?t.error&&t.error(e):t.success&&t.success(e),t.complete&&t.complete()})),!0}return!1}a.api={needSessionToken:!1,requestQueue:[],addOperationLogGetRequestList:["ec/m/celebrity/mobile/get","ec/m/star/mobile/get","ec/m/supplier/brand/user/mobile/get"],inited:!1,h5Url:f,appKey:u,appPwd:l,apiUrl:d,apiEnv:r,isWaiting:!1,exceptionStartTime:0,currentExceptionCount:0,reset:function(){this.needSessionToken=!1,this.requestQueue=[],this.inited=!1},init:function(){this.inited||(this.inited=!0,this.appKey=localStorage.getItem("app_key")||this.appKey,this.appPwd=localStorage.getItem("app_pwd")||this.appPwd)},get:function(e){this.init();var t="GET",a=function(){b(e,t)};e.fn=a,this.callRequest(e)},post:function(e){this.init();var t="POST",a=function(){b(e,t)};e.fn=a,this.callRequest(e)},file:function(e){this.init();var t="POST",a=function(){y(e,t)};e.fn=a,this.callRequest(e)},callRequest:function(e){if(a.api.session_token=a.storage.get("session_token"),a.api.session_token||a.api.needSessionToken){if(e.needLogin&&a.login.isLogin())return void a.login.goLogin();a.api.needSessionToken?this.requestQueue.push(e.fn):e.fn()}else a.api.needSessionToken=!0,v((function(){e.fn.call(),a.api.needSessionToken=!1,a.api.callRequestQueue()}))},callRequestQueue:function(){for(var e=this.requestQueue,t=0,a=e.length;t<a;t++)e[t].call();this.requestQueue=[]}},a.api.get=Object(i["a"])(a.api.get.bind(a.api)),a.api.post=Object(i["a"])(a.api.post.bind(a.api)),a.api.file=Object(i["a"])(a.api.file.bind(a.api))})(window,window.lib||(window.lib={}))}).call(this,a("1157"))},"84e2":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.video.mask?a("div",{staticClass:"mask",on:{click:function(t){return t.target!==t.currentTarget?null:e.closeMask(t)},scroll:function(e){e.preventDefault()},mousewheel:function(e){e.preventDefault()}}},[a("div",{staticClass:"mask-close",on:{click:e.closeMask}},[a("i",{staticClass:"el-icon-close"})]),a("div",{staticClass:"mask-video"},[a("video",{attrs:{controls:""}},[a("source",{attrs:{src:e.video.url}})])])]):e._e()},o=[],i={data:function(){return{video:{mask:!1}}},methods:{openVideo:function(e){this.video.mask=!0,this.video.url=e.content},closeMask:function(){this.video.mask=!1,this.video.url=""}}},r=i,s=(a("3718"),a("0c7c")),c=Object(s["a"])(r,n,o,!1,null,"85c088dc",null);t["a"]=c.exports},"887e":function(e,t,a){},"8c4f":function(e,t,a){e.exports=a("7700")(6)},"94b4":function(e,t,a){e.exports=a("7700")(10)},"98d3":function(e,t,a){},ace7:function(e,t){e.exports={dev:{APP_KEY:"554992ad80486d1c518b47b69bfd4f66",APP_PWD:"985a3c029ed29d5ead725f5803592c4c",API_URL:"http://apidev001.mockuai.com/",H5_URL:"http://waptest.snapshot.m.wudizhanggui.com/"},mock:{APP_KEY:"554992ad80486d1c518b47b69bfd4f66",APP_PWD:"985a3c029ed29d5ead725f5803592c4c",API_URL:"http://yapi.mockuai.com/mock/1987/",H5_URL:"http://waptest.snapshot.m.wudizhanggui.com/"},test:{APP_KEY:"554992ad80486d1c518b47b69bfd4f66",APP_PWD:"985a3c029ed29d5ead725f5803592c4c",API_URL:"https://apidaily.mockuai.com/",H5_URL:"http://waptest.snapshot.m.wudizhanggui.com/"},wapa:{APP_KEY:"554992ad80486d1c518b47b69bfd4f66",APP_PWD:"985a3c029ed29d5ead725f5803592c4c",API_URL:"https://apiwapa.mockuai.com/",H5_URL:"http://wapa.snapshot.m.wudizhanggui.com/"},beta:{APP_KEY:"7ff47887933bece366de5259b1e20a25",APP_PWD:"f89b45f02bac39688e329595af411a99",API_URL:"https://mop-beta.mockuai.com/",H5_URL:"https://snapshot.m.wudizhanggui.com/"},online:{APP_KEY:"7ff47887933bece366de5259b1e20a25",APP_PWD:"f89b45f02bac39688e329595af411a99",API_URL:"https://api.mockuai.com/",H5_URL:"https://snapshot.m.wudizhanggui.com/"}}},c347:function(e,t,a){"use strict";var n=a("887e"),o=a.n(n);o.a},c5d8:function(e,t,a){a("c975"),a("ac1f"),a("5319"),a("1276"),a("c975"),a("ac1f"),a("5319"),a("1276"),function(e,t){var a={getParamsFromUrl:function(){var e={},t=location.href,a=t.indexOf("?")>-1&&t.split("?")[1]||null;if(!a)return{};for(var n=a.split("&"),o=0;o<n.length;o++){var i=n[o].split("=");if("undefined"===typeof e[i[0]])e[i[0]]=i[1];else if("string"===typeof e[i[0]]){var r=[e[i[0]],i[1]];e[i[0]]=r}else e[i[0]].push(i[1])}return e}};t.login={isLogin:function(){return!!t.storage.get("access_token")},goLogin:function(e,a){e=e||location.href,t.storage.set("access_token",""),console.log(e),t.api.isWaiting=!1},logout:function(e){e=e||"",t.storage.rm("access_token"),t.storage.rm("session_token"),t.storage.rm("refresh_token")},login:function(e,n){if(e&&e.access_token){if(!n){var o=a.getParamsFromUrl();o.redirectUrl?(n=decodeURIComponent(o.redirectUrl),n.indexOf("/manage/index")>-1&&(n="/")):n="/"}t.storage.set("access_token",e.access_token),t.storage.set("refresh_token",e.refresh_token),t.storage.set("user",e.data.admin),location.replace(n)}},setAppKeyAppPwd:function(e,a){localStorage.setItem("app_key",e),localStorage.setItem("app_pwd",a),t.api.app_key=e,t.api.app_pwd=a},getUserName:function(){return t.storage.get("userName")}}}(window,window.lib||(window.lib={}))},c8ba:function(e,t,a){e.exports=a("7700")(0)},de16:function(e,t,a){"use strict";var n=a("2716"),o=a.n(n);o.a}});